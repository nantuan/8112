name: kirim-kirim 3
on:
  push:
    branches: [ "main" ]
  schedule:
    - cron: '*/20 * * * *'
  workflow_dispatch:
jobs:
  UpdateSub:
    runs-on: ubuntu-latest

    steps:
      - name: Check The Code
        uses: actions/checkout@v2
      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.10'
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          python -m pip install python-telegram-bot==13.15 requests
      - name: Get Files
        run: |
          curl -o 1.txt -LJO https://gen.trexmedia.eu.org/?template=vless&domain=gamang.gpj2.dpdns.org&data=https://github.com/exball/sing-box-config/raw/refs/heads/Master/proxy-scaner/rawProxyList.txt
          curl -o 2.txt -LJO https://gen.trexmedia.eu.org/?template=trojan&domain=bexcoders.biz.id&data=https://github.com/exball/sing-box-config/raw/refs/heads/Master/proxy-scaner/rawProxyList.txt
          curl -o 3.txt -LJO https://gen.trexmedia.eu.org/?template=trojan&domain=vpn.stupidworld.web.id&data=https://github.com/exball/sing-box-config/raw/refs/heads/Master/proxy-scaner/rawProxyList.txt
          curl -o 4.txt -LJO https://gen.trexmedia.eu.org/?template=vless&domain=siren.afrcloud.site&data=https://github.com/exball/sing-box-config/raw/refs/heads/Master/proxy-scaner/rawProxyList.txt
          curl -o 5.txt -LJO https://gen.trexmedia.eu.org/?template=vless&domain=world.stupx2.my.id&data=https://github.com/exball/sing-box-config/raw/refs/heads/Master/proxy-scaner/rawProxyList.txt
          curl -o 6.txt -LJO https://gen.trexmedia.eu.org/?template=vless&domain=free.tunneling.dpdns.org&data=https://github.com/exball/sing-box-config/raw/refs/heads/Master/proxy-scaner/rawProxyList.txt
          
      - name: send to telegram
        run: |
          python3 kirim.py ${{ secrets.BOT2 }} -1002292042831 1.txt && python3 kirim.py ${{ secrets.BOT2 }} -1002292042831 2.txt && python3 kirim.py ${{ secrets.BOT2 }} -1002292042831 3.txt && python3 kirim.py ${{ secrets.BOT2 }} -1002292042831 4.txt && python3 kirim.py ${{ secrets.BOT2 }} -1002292042831 5.txt && python3 kirim.py ${{ secrets.BOT2 }} -1002292042831 6.txt
          
